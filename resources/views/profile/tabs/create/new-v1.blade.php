<style>


    .campmd label {
        width: 50px;
        height: 30px;
    }

    .campmd li label {
        font-size: 11px;
    }

    img.alignright {
        float: right;
        margin: 0 0 1em 1em
    }

    .yui-skin-sam .yui-calendar .calnavright {
        right: 10px
    }


    .ctooltip .ctooltiptext {
        border: 1px solid #d7d0d0;
        visibility: hidden;
        width: 236px;
        background-color: #77BBD3;
        background-color: #fff;
        color: #fff;
        color: #000;
        border-radius: 6px;
        padding: 5px 0 5px 2px;
        position: absolute;
        z-index: 1;
        bottom: -163%%;
        left: 125%;
    }

    .ctooltip:hover .ctooltiptext {
        visibility: visible;
    }

    .inner-part {
        padding-left: 40px;
        padding-top: 15px;
        width: 552px;
        height: 20px;
    }

    .inner-part1 {
        padding-left: 40px;
        width: 552px;
        height: 20px;
    }

    .left-part {
        float: left;
        width: 190px;
        height: 30px;
    }

    .right-part {
        float: right;
        width: 350px;
        height: 30px;
    }

    .title-label {
        padding-right: 30px;
        font-size: 12px;
        display: inline-block;
        padding-top: 4px;
    }



    .divider {
        margin-top: 5px;
    }

    .botton-divider {
        margin-bottom: 50px;
    }

    .flter8sec {
        padding-left: 40px !important;
        font-size: 12px !important;
    }

    .floating-box-title {
        display: -moz-inline-stack;
        display: inline-block;

        width: fit-content;
        height: fit-content;

        width: 200px;
        height: 29px;
    }

    .floating-box-value {
        display: -moz-inline-stack;
        display: inline-block;

        width: fit-content;
        height: fit-content;

        width: 823px;
        background-color: white;
        border: 1px solid #d7d0d0;
        height: 155px;
        word-wrap: break-word;
        padding: 5px;
        margin-bottom: 10px;
        overflow-y: auto;
    }

    .progress {
        position: relative;
        width: 270px;
        border: 1px solid #ddd;
        padding: 1px;
        /* border-radius: 3px; */
        float: left;
        margin-top: -24px;
    }

    .bar {
        background-color: #B4F5B4;
        width: 0%;
        height: 20px;
        border-radius: 3px;
    }

    .percent {
        position: absolute;
        display: inline-block;
        top: 3px;
        left: 48%;
    }


    div.blueTable {
        width: 100%;

        text-align: left;
        /*margin-right:10px;*/
    }

    .divTable.blueTable .divTableCell,
    .divTable.blueTable .divTableHead {

        padding: 3px 2px;
    }

    .divTable.blueTable .divTableBody .divTableCell {
        font-size: 14px;
    }

    .divTable.blueTable .divTableRow:nth-child(even) {

    }

    .blueTable .tableFootStyle {
        font-size: 11px;
        font-weight: bold;
        color: #FFFFFF;


    }

    .blueTable .tableFootStyle {
        font-size: 14px;
    }

    .blueTable .tableFootStyle .links {
        text-align: right;
    }

    .blueTable .tableFootStyle .links a {
        display: inline-block;

        color: #FFFFFF;
        padding: 2px 8px;

    }

    .blueTable.outerTableFooter {

    }

    .blueTable.outerTableFooter .tableFootStyle {
        padding: 3px 5px;
    }


    /* DivTable.com */

    .divTable {
        display: table;
        /*border : 1px solid black;*/

    }

    .divTableRow {
        display: table-row;
        /*border : 1px solid black;*/
    }

    .divTableHeading {
        display: table-header-group;
    }

    .divTableCell,
    .divTableHead {
        display: table-cell;
        /*border : 1px solid black;*/
    }

    .divTableHeading {
        display: table-header-group;
    }

    .divTableFoot {
        display: table-footer-group;
    }

    .divTableBody {
        display: table-row-group;
    }

    i.fa.fa-question-circle-o.fa-2 {
        color: #b3c5d1;
    }

    .yui-dt-col-StartTime,
    .yui-dt-col-RunTime,
    .yui-dt-col-List,
    .yui-dt-col-Records,
    .yui-dt-col-Run,
    .yui-dt-col-FTP,
    .yui-dt-col-is_public,
    .yui-dt-col-Summary,
    .yui-dt-col-Share,
    .yui-dt-col-Action,
    .yui-dt-col-Delete {
        text-align: center !important;
    }

    @media only screen and (min-width: 1600px) {
        .inner-part1 {
            width: 566px;
        }

        .inner-part {
            width: 566px;
        }
    }


    #accordion-resizer {
        padding: 10px;
        width: 150px;
        height: 100px;
    }

    .ui-accordion .ui-accordion-header {
        display: block;
        cursor: pointer;
        position: relative;
        margin: 2px 0 0 0;
        padding: 0em 0 8px 24px;
        min-height: 0;
        font-size: 83% !important;
        background-color: #eff6ff;
        width: 186px !important;
        height: 12px !important;

    }

    .ui-multiselect-menu {
        font-size: 10px;
    }

    .ui-multiselect-menu .ui-icon ui-icon-check, .ui-multiselect-menu .ui-icon ui-icon-closethick {
        margin-top: 4px;
    }


    .ui-multiselect-all {
        margin-right: 11px;
    }

    .ui-icon ui-icon-circle-close {
        margin-top: 4px;
    }

    .ui-accordion .ui-accordion-content {
        height: 118px !important;
    }

    .ui-multiselect-menu.ui-widget.ui-widget-content.ui-corner-all {
        /*left: 0px !important;*/
        width: 350px !important;
    }

    div.ui-widget-content {
        width: 205px;
    }

    .ui-helper-reset {
        /* height: 252px; */
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        line-height: 1.9;
        text-decoration: none;
        font-size: 100% !important;
        list-style: none;
    }


    .ctooltip {
        position: relative;
        display: inline-block;
        cursor: pointer;
    }

    .ctooltip .ctooltiptext {
        border: 1px solid #d7d0d0;

        visibility: hidden;
        width: 236px;
        background-color: #77BBD3;
        background-color: #fff;
        color: #fff;
        color: #000;
        border-radius: 6px;
        padding: 5px 0 5px 2px;
        position: absolute;
        z-index: 1;
        bottom: -163%;
        left: 125%;
    }

    .ctooltip:hover .ctooltiptext {
        visibility: visible;
    }

    .red-elements {
        /*border-color: red !important;*/
    }

    .fc {
        padding-left: 17px !important;
        width: 15%;
    }

    .ff {
        padding-left: 58px !important;
        width: 15%;
    }

    button.ds-c3 {
        /*color: #5f93b2;*/
        color: #b7dee8;
        background-color: #bfe6f6;
        border-color: #dae0e5
    }
    button.ds-c3:hover {
        background-color: #3ea6d0;
        color: #fff;
    }

    button.ds-c4:hover {
        color: #5f93b2;
        background-color: #bfe6f6;
        border-color: #dae0e5
    }
    button.ds-c4 {
        background-color: #3ea6d0;
        color: #fff;
    }


    .ds-l{
        color: #9e9e9e;
    }

    .sr-btn {
        border-color: rgb(191, 230, 246) !important;
        margin-top: 6px;
        padding: 1px 6px;
        border: 1px solid transparent;
        border-radius: .25rem;
    }

    .sr-btn:hover {
        margin-top: 6px;
        padding: 1px 6px;
        border: 1px solid rgb(191, 230, 246) !important;
        border-radius: .25rem;
    }

    .sr-btn:focus {
        outline: none !important;
    }

    .totalCL td{
        background-color: #f9f9f9;
        color: #010101;
        border: 0.5px solid #e9ecef;
        font-weight: normal !important;
        font-size: 13px;
    }
</style>

<div class="divTable blueTable">
    <div class="divTableBody">
        <div class="divTableRow">
            <div class="divTableCell font-14 fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">Select the data level from which you would like to pull the list or report.</span>
                </div>
                &nbsp;&nbsp;Level
            </div>
            <div class="divTableCell">
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <select class='form-control form-control-sm select-box1 fst-f' onchange="lListTemplateName(this.id,'change');" id='list_level'>
                                <option value=''>Select Level</option>
                                @foreach($list_levels as $list_level)
                                    <option
                                            @if(trim($list_level->List_Level) == 'Emailable') selected @endif
                                    value="{{ trim($list_level->List_Level) }}"
                                    >
                                        {{ trim($list_level->List_Level_Display) }}
                                    </option>
                            @endforeach
                            <!--
                                <option value='Contact_View'>All Contacts</option>
                                <option selected value='emailable'>Emailable Contacts</option>
                                <option value='mailable'>Mailable Contacts</option>
                                <option value='Sales_View'>Sales Detail</option>
                                -->
                            </select>
                        </div>
                    </div>
                </div>
                <span id="indicationLLMsg"></span>
            </div>
        </div>

        <div class="divTableRow">
            <div class="divTableCell font-14 fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">Select the data level from which you would like to pull the list or report.</span>
                </div>
                &nbsp;&nbsp;Campaign
            </div>
            <div class="divTableCell">
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <select class="form-control form-control-sm select-box1 fst-f" name="campaign" id="campaign_id">
                                <option value="">Select Campaign</option>
                                @foreach($campaigns as $campaign)
                                    <option value="{!! $campaign->t_id !!}">{!! $campaign->t_name !!}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>
                </div>
                <span id="indicationCMsg"></span>
            </div>
        </div>

        <div class="divTableRow">
            <div class="divTableCell font-14 fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">Select the data level from which you would like to pull the list or report.</span>
                </div>
                &nbsp;&nbsp;Profile Variables
            </div>
            <div class="divTableCell">
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <select class="form-control form-control-sm select-box1 fst-f" id="fields" multiple="multiple" data-placeholder="Select Values">

                                @foreach($fFields as $fField)
                                    <option {{ $fField['Profile'] == 2 ? 'selected' : '' }} value="{{ $fField['Field_Display'] }}">{{ $fField['Field_Display'] }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>

                </div>
                <span id="indicationLLMsg"></span>
            </div>
        </div>

        <div class="divTableRow">
            <div class="divTableCell font-14 fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">Select the data level from which you would like to pull the list or report.</span>
                </div>
                &nbsp;&nbsp;Output format
            </div>
            <div class="divTableCell">
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <select class="form-control form-control-sm select-box1 fst-f" id="output_format">
                                <option value="pdf">PDF</option>
                                <option value="xlsx">XLSX</option>
                                <option selected value="both">PDF & XLSX</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-1">
                        <div class="form-group">
                            <small class="form-control-feedback ds-l">&nbsp;</small>
                            <button type="button" class="btn btn-info font-10 s-f" title="Go" id="runProfileBtn" onclick="runprofile(1,'runProfileBtn');">
                                <i class=" fas fa-eye font-12"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <span id="indicationLLMsg"></span>
            </div>
        </div>

        <div class="divTableRow">
            <div class="divTableCell fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">Enter text upto 10 characters.</span>
                </div>
                &nbsp;&nbsp;Profile Name
            </div>
            <div class="divTableCell">
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <input id='listShortName' class='form-control form-control-sm text-box1' style="padding-left: 14px;" type='text' name='listShortName'
                                   onkeyup='return listShortname();' onkeypress='return listShortname();' value=''
                                   autocomplete="off" placeholder="Profile Name">
                        </div>
                    </div>
                    <small id="indicationMsg" class="form-control-feedback ml-2 pl-1 ds-l"></small>
                </div>

            </div>
        </div>

        <div class="divTableRow">
            <div class="divTableCell fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">Enter text upto 25 characters</span>
                </div>
                &nbsp;&nbsp;Target Group
            </div>
            <div class="divTableCell">
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <input type="text" id='target_group' class="form-control form-control-sm text-box1" style="padding-left: 14px;" autocomplete="off" onkeyup="fillprofiledesc();" placeholder="Target Group">
                        </div>
                    </div>
                    <small id="indicationtgMsg" class="form-control-feedback ml-2 pl-1 ds-l"></small>
                </div>
            </div>
        </div>

        <div class="divTableRow">
            <div class="divTableCell fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">Enter text upto 25 characters</span>
                </div>
                &nbsp;&nbsp;Comparision Group
            </div>
            <div class="divTableCell">
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <input type="text" id='comparision_group' class="form-control form-control-sm text-box1" style="padding-left: 14px;" autocomplete="off" onkeyup="fillprofiledesc();" placeholder="Comparision Group">
                        </div>
                    </div>
                    <small id="indicationcgMsg" class="form-control-feedback ml-2 pl-1 ds-l"></small>
                </div>
            </div>
        </div>

        <div class="divTableRow">
            <div class="divTableCell fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">Enter text upto 25 characters</span>
                </div>
                &nbsp;&nbsp;Profile Description
            </div>
            <div class="divTableCell">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="text" id='profile_description' class="form-control form-control-sm text-box1" style="padding-left: 14px;" autocomplete="off" placeholder="Profile Description">
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="divTableRow" style="display: none;">
            <div class="divTableCell fc">
                <div style="font-size:14px;" class="ctooltip"><i class="fas fa-question-circle ds-c"
                                                                 aria-hidden="true"></i>
                    <span class="ctooltiptext">This is automatically computed based on Short Name and Date.</span>
                </div>
                &nbsp;&nbsp;Name
            </div>
            <div class="divTableCell">
                <input class='text-box1' style='background-color: #e0ebeb !important;' readonly type='text'
                       id='list_name'>
                <input type='hidden' id='camp_id'>
                <input type='hidden' id='is_name_exist'/>
            </div>
        </div>
    </div>
</div>

<div class="btn-toolbar mt-3" role="toolbar" aria-label="Toolbar with button groups" style="display: block !important;">
    <div class="input-group pull-right">
        <button type="button" class="btn btn-info font-12 s-f mr-1" title="Save Profile" id="savenow" onclick="addsubSQL($(this),false);">Run Now</button>
        <button type="button" class="btn btn-info font-12 s-f" title="Save Profile" id="save" onclick="addsubSQL($(this),true);">...</button>

    </div>
</div>

<div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-10 chart"></div>
    <div class="col-md-1"></div>
</div>


<script>
    $(document).ready(function () {
        $('.cn-report-btn').trigger('click');
        $('.search-btn').hide();
        $('.chart').html('');

        var filtersMS = ['fields'];
        $.each( filtersMS, function( index, value ){

            if($('[id="'+value+'"]').length){
                $('[id="'+value+'"]').multiselect({
                    //appendTo: '#filtersModel',
                    close: function () {
                        delay(function(){

                        }, 1000 );
                    },
                    header: true, //"Region",
                    selectedList: 0, // 0-based index
                    nonSelectedText: 'Select Values',
                    enableFiltering: true,
                    filterBehavior: 'text',
                }).multiselectfilter({label: 'Search'});

                setTimeout(function () {
                    var id = value + '_ms';
                    $('[id="'+id+'"]').attr('style',
                        'width:100% !important;' +
                        'height: 28px; ' +
                        'background-color: white !important;' +
                        'height: calc(1.5em + .5rem + 2px);' +
                        'padding: .25rem .5rem;' +
                        'border-radius: .2rem;' +
                        'background-clip: padding-box;' +
                        'border: 1px solid #e9ecef;' +
                        'font-size: .76563rem;' +
                        'min-height: 30px;' /*+
                            'color: #cdcdcd;'*/
                    );
                },1000);
            }
        });

        $('#output_format').on('change',function () {
            if($(this).val() == 'pdf'){
                $('#profile_pdf').show();
                $('#profile_xlsx').hide();
            }else if($(this).val() == 'xlsx'){
                $('#profile_pdf').hide();
                $('#profile_xlsx').show();
            }else{
                $('#profile_pdf').show();
                $('#profile_xlsx').show();
            }
        })

        profileJS($('#tab_{!! $tabid !!}'));
        var libflag_name = $('#libflag_name').val();
        var libcamp_name = $('#libcamp_name').val();
        var libcamp_id = $('#libcamp_id').val();
        if (libflag_name == 'view' || libflag_name == 'new'){
            updateOptlib(libflag_name, libcamp_name, libcamp_id);
        }else{
            $('#list_level').trigger('change');
        }
    });
</script>
